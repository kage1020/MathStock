\documentclass[a4paper]{ltjsarticle}

\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx,hidelinks,pdfusetitle]{hyperref}
\hypersetup{
    colorlinks=false,
    bookmarksnumbered=true,
    pdfborder={0 0 0},
    bookmarkstype=toc
}
\usepackage[nobreak]{cite}
\usepackage{pxjahyper}
\usepackage{amsmath}
\usepackage{tikz}

\usetikzlibrary{datavisualization}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric, shapes.misc}
\usetikzlibrary{patterns}
\usetikzlibrary{calc}

\begin{document}

% ====================

\begin{itembox}[l]{東京工業大学 2007年}
    $p$ を素数，$n$ を0以上の整数とする．

    \begin{enumerate}[label=(\arabic*)]
        \item $m$ は整数で $0\leqq m\leqq n$ とする．1から $p^{n+1}$ までの整数の中で，$p^m$ で割り切れ，$p^{m+1}$ で割り切れないものの個数を求めよ．

        \item 1から $p^{n+1}$ までの2つの整数 $x,\ y$ に対し，その積 $xy$ が $p^{n+1}$ で割り切れるような組 $(x,\ y)$ の個数を求めよ．
    \end{enumerate}
\end{itembox}

1から $p^{n+1}$ までの整数で，$p^m$ で割り切れるものの個数を $a_m$ とする．

$0\leqq m\leqq n+1$ を満たす $m$ に対して，$a_m=\dfrac{\ p^{n+1}\ }{p^m}=p^{n+1-m}$ である．

\begin{enumerate}[label=(\arabic*)]
    \item $p^{m+1}$ で割り切れる整数は $p^m$ でも割り切れる．よって，1から $p^{n+1}$ までの整数の中で，$p^m$ で割り切れ，$p^{m+1}$ で割り切れないものの個数は，

          \begin{equation*}
              a_m-a_{m+1}=p^{n+1-m}-p^{n-m}=(p-1)p^{n-m}
          \end{equation*}

    \item １から $p^{n+1}$ までの2つの整数 $x,\ y$ に対し，その積 $xy$ が $p^{n+1}$ で割り切れるのは，

          \begin{enumerate}[label=(\roman*)]
              \item $x$ は $p^{m}$ で割り切れるが $p^{m+1}$ で割り切れず，$y$ は $p^{n+1-m}$ で割り切れる．($m=0,\ 1,\ \cdots,\ n$)

              \item $x$ は $p^{n+1}$ で割り切れる．このとき，$y$ は任意
          \end{enumerate}

          のいずれかとなる．

          $0\leqq m\leqq n$ を満たす $m$ に対して，(i)を満たす $x$ は $(p-1)p^{n-m}$ 個あり，それぞれに対して，$y$ は $a_{n+1-m}$ 個ある．したがって，(i)を満たす組 $(x,\ y)$ の総数は，

          \begin{equation*}
              \sum_{m=0}^{n}(p-1)p^{n-m}\cdot a_{n+1-m}=\sum_{m=0}^{n}(p-1)p^{n-m}\cdot p^m=\sum_{m=0}^{n}(p-1)p^n=(n+1)(p-1)p^n
          \end{equation*}

          (ii)を満たす $x$ は，$x=p^{n+1}$ の1個であるから，組 $(x,\ y)$ の総数は $1\cdot p^{n+1}=p^{n+1}$

          以上から，求める個数は，
          \begin{equation*}
              (n+1)(p-1)p^n+p^{n+1}=\Big\{(n+2)p-(n+1)\Big\}p^n
          \end{equation*}

          である．
\end{enumerate}

% ====================

\end{document}
